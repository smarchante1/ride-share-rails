<h2><%= @passenger.name%></h2>

<% trips = Trip.where(id: @passenger.id) %>
<% trip = trips.first %>

<%# <% if !trip.rating.nil? %> 
  <%# <%= form_with model: @passenger, class: "rating" do |f| %> 
  
  <%# <%= f.label :rating %>
  <%# <%= f.text_field :rating %>

 <%# <%= f.submit "Submit Rating", class: "rating-save-button" %>  

<%# <%end%> 

<%# <% else %> 
  <%= link_to "Request Ride", passenger_trips_path(@passenger.id), method: :post %>
<%# <% end %> 

<ul>
<% @passenger.trips.each do |trip| %>
  <li> 
  <%= "Trip ID: #{trip.id}"%>
  </li>
  <li> 
  <%= "Trip Date: #{trip.date}"%>
  </li>
  <li> 
  <%= link_to "Driver Name: #{Driver.find(trip.driver_id).name}", driver_path(trip.driver_id)%>
  </li>
   <li> 
  <%= "Price: $#{trip.cost / 100}"%>
  </li>
   <li> 
  <%= "Rating: #{trip.rating}"%>
  </li>
  <%# link to edit 
  link to delete %>
<% end %>
</ul>

<h3><%= "Passenger total chargers $#{@passenger.total_charges}"%></h3>

<%= link_to "Delete Passenger", passenger_path(@passenger.id), method: :delete, data: {confirm: "Are you sure you want to delete this passenger? All associated trip data will also be deleted."}%>
<%= link_to "Edit passenger", edit_passenger_path(@passenger.id) %>
<%= link_to "Back to list of all passengers", passengers_path %>